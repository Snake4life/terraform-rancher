- name: Bootstrap Rancher server and cluster
  hosts: all
  connection: local
  gather_facts: false
  tasks:
    - name: Provision Rancher server 
      terraform:
        project_path: 01-rancher-server/
        state: present
      tags:
        - rancher
    - name: Provision cluster
      terraform:
        project_path: 02-test-cluster/
        state: present
      tags:
        - cluster
    - name: Basic deployment
      terraform:
        project_path: 03-deploy-apps/
        state: present
      tags:
        - apps
